$(document).ready(function(){var e=$("select[multiple]"),t=e.find("option"),i=$("<div />").addClass("selectMultiple"),s=$("<div />"),n=$("<ul />"),a=e.data("placeholder"),d=$("<span />").text(a).appendTo(s);t.each(function(){var e=$(this).text();$(this).is(":selected")?(s.append($("<a />").html("<em>"+e+"</em><i></i>")),d.addClass("hide")):n.append($("<li />").html(e))}),s.append($("<div />").addClass("arrow")),i.append(s).append(n),e.wrap(i),$(document).on("click",".selectMultiple ul li",function(e){var t=$(this).parent().parent(),i=$(this);if(!t.hasClass("clicked")){t.addClass("clicked"),i.prev().addClass("beforeRemove"),i.next().addClass("afterRemove"),i.addClass("remove");var s=$("<a />").addClass("notShown").html("<em>"+i.text()+"</em><i></i>").hide().appendTo(t.children("div"));s.slideDown(400,function(){setTimeout(function(){s.addClass("shown"),t.children("div").children("span").addClass("hide"),t.find("option:contains("+i.text()+")").prop("selected",!0)},500)}),setTimeout(function(){i.prev().is(":last-child")&&i.prev().removeClass("beforeRemove"),i.next().is(":first-child")&&i.next().removeClass("afterRemove"),setTimeout(function(){i.prev().removeClass("beforeRemove"),i.next().removeClass("afterRemove")},200),i.slideUp(400,function(){i.remove(),t.removeClass("clicked")})},600)}}),$(document).on("click",".selectMultiple > div a",function(e){var t=$(this).parent().parent(),i=$(this);i.removeClass().addClass("remove"),t.addClass("open"),setTimeout(function(){i.addClass("disappear"),setTimeout(function(){i.animate({width:0,height:0,padding:0,margin:0},300,function(){var e=$("<li />").text(i.children("em").text()).addClass("notShown").appendTo(t.find("ul"));e.slideDown(400,function(){e.addClass("show"),setTimeout(function(){t.find("option:contains("+i.children("em").text()+")").prop("selected",!1),t.find("option:selected").length||t.children("div").children("span").removeClass("hide"),e.removeClass()},400)}),i.remove()})},300)},400)}),$(".selectMultiple").on("click",function(e){$(this).toggleClass("open")})});